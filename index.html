<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8" />
  <title>Advance Digital Coding Test</title>

  <script src="https://unpkg.com/react@16/umd/react.development.js"></script>
  <script src="https://unpkg.com/react-dom@16/umd/react-dom.development.js"></script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
  <script src="https://unpkg.com/axios/dist/axios.min.js"></script>


</head>

<body>
  <div id="root"></div>

  <script>


  </script>
  <script type="text/babel">
    const urlStarWars = 'https://swapi.co/api/people/';
    const urlPokemon = 'https://pokeapi.co/api/v2/pokemon/';

    const Pokemon = ({ pokemon }) => {
      if (pokemon) {
        console.log(pokemon)
      }
      return (
        <div id={pokemon.name}>
          {pokemon.name}</div>
      )
    }

    const StarWars = ({ charactor, homeworld }) => {
      if (charactor) {
        console.log(charactor);
      }
      if (homeworld) {
        console.log(homeworld);
      }
      return (
        <div>
          <div id={charactor.name}>
            {charactor.name}
          </div>
          <div id={charactor.eye_color}>
            {charactor.eye_color}
          </div>
          <div id={charactor.gender}>
            {charactor.gender}
          </div>
          <div id={charactor.hair_color}>
            {charactor.hair_color}
          </div>
          <div id={charactor.mass}>
            {charactor.mass}
          </div>
          <div id={charactor.skin_color}>
            {charactor.skin_color}
          </div>
          <div id={charactor.height}>
            {charactor.height}
          </div>
        </div>
      )
    }

    class App extends React.Component {
      constructor(props) {
        super(props);
        this.state = {
          pokemon: {},
          starWars: {},
          homeworld: {}
        }
      }

      componentDidMount() {
        this.getPokemon();
        this.getCharactor();
      }

      getPokemon() {
        axios.get(`${urlPokemon}1`).then(response => {
          this.setState({ pokemon: response.data });
        })
          .catch(err => {
            console.error(err)
          })
      };

      getCharactor() {
        axios.get(`${urlStarWars}1/`).then(response => {
          this.setState({ starWars: response.data })
          return axios.get(response.data.homeworld)
        }).then(response => {
          this.setState({
            homeworld: response.data
          })
        }).catch(err => {
          console.error(err)
        })
      };

      render() {
        return (
          <div id="flex-container">
            <Pokemon pokemon={this.state.pokemon} />
            <StarWars charactor={this.state.starWars} homeworld={this.state.homeworld} />
          </div>
        )
      }

    }
    ReactDOM.render(
      <App />,
      document.getElementById('root')
    );

  </script>

  <style>
    #flex-container {
      display: flex;
      flex-direction: row;
    }
  </style>
</body>

</html>